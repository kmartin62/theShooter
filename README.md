# Проект по "Визуелно програмирање" - ФИНКИ, 2018


## The shooting legend - Мартин Костадинов 161159

Апликацијата сама по себе содржи 10 класи. Целта на играта е главниот херој да ги убие непријателите, да ги отвори портите и да ја спаси принцезата Хилари Клинтон. Мапата не е *resizable* од проста причина што ѕидовите се слики со не многу голема резолуција и доколку се зголемат, квалитетот се губи и не е добро за вид.

![alt text](https://i.imgur.com/WIUjwEj.png)

Ова е почетниот прозорец што се јавува при старт на апликацијата. Едноставен прозорец на кој има две копчиња со соодветните опции, старт - прави редирект на главната апликација и опции - вади ```MessageBox``` во кој се испишани опциите за играта. Имено, играта се игра на стрелките за движење (ГОРЕ, ДОЛЕ, ЛЕВО, ДЕСНО) а додека пак на Space се пука. Херојот е лимитиран во движењето се со цел да не излегува надвор од ѕидовите. Тоа е направено со ```bool``` за сите насоки кои се чуваат во самата класа на херојот и соодветно според ѕидовите. Ѕидовите се направени од блокови (Bricks) и се опкружени со обичен *Rectangle* ```Wall.cs``` за да може полесно да се координира и манипулира. Исто така користени се и помошни материјали (Bricks) кои не се гледаат а се ставени со цел да се координира движењето низ потесни места.

![alt text](https://i.imgur.com/axbezZm.png)

Внатрешниот изглед на апликацијата изгледа вака. Имаме три круни на мапата и три порти. Портите се отвараат кога ќе се земе соодветната круна а круните се чувани од непријателите коишто треба да се убијат. Доколку има порта, движењето е лимитирано соодветно. Целата графика на играта е со готови слики превземени од Интернет и вметнати преку ```Bitmap```. Карактеристична е колизијата со круните бидејќи преку нив се отвараат портите и се додава можност за движење преку отворената порта. Тоа е направено со ```bool``` променлива која што ја координира таа работа.

``` c# 
public void checkCrowns(Hero hero)
        {
            if(crowns.Count == 2)
            {
                first = true;
            }

            if(crowns.Count == 1)
            {
                second = true;
            }

            if(crowns.Count == 0)
            {
                third = true;
            }

            for (int i = 0; i < crowns.Count; i++)
            {
                if (crowns[i].IsHit(hero))
                {
                    crowns[i].IsColliding = true;
                    gates[i].Open = true;
                }
            }

            for(int i = crowns.Count - 1; i >= 0; i--)
            {
                if (crowns[i].IsColliding)
                {
                    crowns.RemoveAt(i);
                }
            }

            for(int i = gates.Count - 1; i >= 0; i--)
            {
                if (gates[i].Open)
                {
                    gates.RemoveAt(i);
                }
            }
        }
 ```
 Секоја круна во својата класа чува променлива преку која се регулира дали таа е земена или не. На почетокот е битно да проверуваме со ```.Count``` а не со индексите на круната бидејќи во општ случај, најпрвин може да се земе круната со индекс *1* па сите круни во листата, после *1* ќе се вратат едно место наназад и ќе фрли ```Exception```. Со проверката на круните, даваме можност на херојот да се движи соодветно низ отворената порта ```if (first)
                {
                    hero.Up = true;
                }```. Во продолжение имаме функции коишто се повикуваат во главната ```Form1.cs``` класа, на одредено време (timer), за да проверат дали некоја од круните е земена и доколку да, да ја отвори соодветната порта. Круните и портите се индексирани соодветно, доколку се земе круна со индекс 0, се отвара порта со индекс 0. Пријатна игра!
                
